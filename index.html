<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Assignmnet 4</title>
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <h1>Assignmnet 4</h1>
      <button id="connectWalletBtn">Connect MetaMask</button>
      <p id="walletStatus">Not connected</p>
      <p id="tokenBalance">Balance: 0 ATE</p>
    </header>

    <section id="list-model">
      <form id="listModelForm">
        <h1>List a New AI Model</h1>
        <input type="text" id="modelName" placeholder="Model Name" required />
        <textarea
          id="modelDescription"
          placeholder="Model Description"
          required
        ></textarea>
        <input
          type="number"
          id="modelPrice"
          placeholder="Price in Tokens"
          required
        />
        <button type="submit">List Model</button>
      </form>

      <div id="modelsList">
        <h1>Available AI Models</h1>
        <ul id="modelsContainer"></ul>
      </div>
    </section>

    <section id="purchase-model">
      <h2>Purchase AI Model</h2>
      <input
        type="number"
        id="purchase-model-id"
        placeholder="Model ID"
        min="1"
        required
      />
      <button id="purchase-button">Purchase</button>
      <p id="purchase-status" style="color: green; display: none"></p>
    </section>

    <section id="rate-model">
      <h2>Rate AI Model</h2>
      <input type="number" id="rate-model-id" placeholder="Model ID" />
      <input
        type="number"
        id="rate-value"
        placeholder="Rating (1-5)"
        min="1"
        max="5"
      />
      <button id="rate-button">Rate</button>
    </section>

    <section id="model-details">
      <h2>AI Model Details</h2>
      <input type="number" id="model-id-input" placeholder="Enter Model ID" />
      <button id="model_button">Get Details</button>

      <div id="model-info" style="display: none">
        <p><strong>Name:</strong> <span id="model-name"></span></p>
        <p>
          <strong>Description:</strong> <span id="model-description"></span>
        </p>
        <p><strong>Price:</strong> <span id="model-price"></span> tokens</p>
        <p><strong>Creator:</strong> <span id="model-creator"></span></p>
        <p>
          <strong>Average Rating:</strong>
          <span id="model-average-rating"></span>/5
        </p>
        <p>
          <strong>Number of Ratings:</strong>
          <span id="model-ratings-count"></span>
        </p>
      </div>
    </section>

    <script type="module" src="contractABI.js"></script>
    <script type="module" src="models.js"></script>
  </body>
</html>
